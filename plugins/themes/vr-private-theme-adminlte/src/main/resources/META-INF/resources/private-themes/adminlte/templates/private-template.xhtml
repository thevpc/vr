<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jstl/core" xmlns:f="http://xmlns.jcp.org/jsf/core"
      >
    <!--@elvariable id="vr" type="net.thevpc.app.vainruling.core.web.jsf.Vr"-->
    <!--@elvariable id="corePlugin" type="net.thevpc.app.vainruling.core.service.CorePlugin"-->
    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <title>#{vr.getAppProperty('System.App.Title')}</title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
        <!-- Bootstrap 3.3.6 -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"/>
        <!-- Ionicons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"/>
        <!-- jvectormap -->
        <link rel="stylesheet" href="#{vr.privateThemeContext}/wplugins/adminlte/plugins/jvectormap/jquery-jvectormap-1.2.2.css"/>
        <!-- Theme style -->
        <link rel="stylesheet" href="#{vr.privateThemeContext}/wplugins/adminlte/dist/css/AdminLTE.css"/>
        <!-- AdminLTE Skins. Choose a skin from the css/skins
             folder instead of downloading all of them to reduce the load. -->
        <link rel="stylesheet" href="#{vr.privateThemeContext}/wplugins/adminlte/dist/css/skins/_all-skins.min.css"/>
        <link rel="stylesheet"
              href="#{vr.privateThemeContext}/wplugins/adminlte/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css"/>
        <link href='https://fonts.googleapis.com/css?family=Stalemate' rel='stylesheet' type='text/css'/>
        <link href='https://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'/>
        <link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet" type='text/css'/>
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <link rel="shortcut icon" href="#{vr.context}/images/app-icon.png" type="image/png"/>

        <script src="#{vr.context}/fs/Site/js/analytics.js"></script>
        <link rel="stylesheet" href="#{vr.privateThemeContext}/css/app.css" type="text/css"/>

        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
        <h:outputScript library="primefaces" name="jquery/jquery-plugins.js" target="head" />
        <ui:insert name="headerLinks">

        </ui:insert>

    </h:head>
    <!--@elvariable id="adminLTEPrivateThemePlugin" type="net.thevpc.app.vainruling.plugins.themes.adminlte.AdminLTEPrivateThemePlugin"-->
    <h:body styleClass="hold-transition #{admiwnLTEPrivateThemePlugin.skin} sidebar-mini">
        <div class="wrapper">
            <h:form id="mainHeaderForm">

                <header class="main-header">

                    <!-- Logo -->
                    <h:commandLink action="#{vr.gotoPage('publicIndex', '')}" styleClass="logo"
                                   style="text-decoration: none;">
                        <!-- mini logo for sidebar mini 50x50 pixels -->
                        <span class="logo-mini">
                            <span style="font-family: Audiowide; font-size: 9px">#{vr.getAppProperty('System.App.Title.Minor.Main')}</span> <span
                                style="font-family: Stalemate; font-size: 16px">#{vr.getAppProperty('System.App.Title.Minor.Secondary')}</span>
                        </span>
                        <!-- logo for regular state and mobile devices -->
                        <span class="logo-lg">
                            <span style="font-family: Audiowide; font-size: 24px">#{vr.getAppProperty('System.App.Title.Major.Main')}</span> <span
                                style="font-family: Stalemate; font-size: 40px">#{vr.getAppProperty('System.App.Title.Major.Secondary')}</span>
                        </span>
                    </h:commandLink>

                    <!-- Header Navbar: style can be found in header.less -->
                    <nav class="navbar navbar-static-top">
                        <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle navigation</span>
                        </a>
                        <!-- Navbar Right Menu -->
                        #{vr.messageTextService.loadContentTexts(null)}
                        <div class="navbar-custom-menu">
                            <ul class="nav navbar-nav">
                                <li class="dropdown messages-menu" style="margin-top: 10px; ">
                                    <p:ajaxStatus>
                                        <f:facet name="default">
                                            <i class="fa fa-check"></i>
                                        </f:facet>

                                        <f:facet name="start">
                                            <i class="fa fa-globe"></i>
                                        </f:facet>

                                        <f:facet name="complete">
                                            <i class="fa fa-check"></i>
                                        </f:facet>
                                    </p:ajaxStatus>
                                </li>
                                <li class="dropdown messages-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-envelope-o"></i>
                                        <h:panelGroup styleClass="label label-success"
                                                      rendered="#{vr.messageTextService.unreadCount gt 0}">#{vr.messageTextService.unreadCount}</h:panelGroup>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li class="header">Vous avez #{vr.messageTextService.unreadCount} nouveaux messages</li>
                                        <li>
                                            <!-- inner menu: contains the actual data -->
                                            <ul class="menu">
                                                <ui:repeat value="#{vr.messageTextService.getContentTextListHead(null,4)}"
                                                           var="i">
                                                    <li><!-- start message -->
                                                        <h:outputLink value="#{vr.context}/p/mailbox"
                                                                      >
                                                            <div class="pull-left">
                                                                <img src="#{vr.url(vr.userIcon(i.user.id))}"
                                                                     class="img-circle" alt="User Image"/>
                                                            </div>
                                                            <h4>
                                                                #{i.user.fullName}
                                                                <small><i
                                                                        class="fa fa-clock-o"></i> #{vr.date(i.publishTime)}
                                                                </small>
                                                            </h4>
                                                            <p>#{i.subject}</p>
                                                        </h:outputLink>
                                                    </li>
                                                    <!-- end message -->
                                                </ui:repeat>
                                            </ul>
                                        </li>
                                        <li>
                                            <h:outputLink class="footer" value="#{vr.context}/p/mailbox"
                                                          style="text-align: center;">
                                                <strong>Tous les Messages</strong>
                                            </h:outputLink>
                                        </li>
                                    </ul>
                                </li>
                                <!-- Notifications: style can be found in dropdown.less -->
                                #{vr.notificationTextService.loadContentTexts(null)}
                                <li class="dropdown notifications-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-bell-o"></i>
                                        <h:panelGroup styleClass="label label-danger"
                                                      rendered="#{vr.notificationTextService.unreadCount gt 0}">#{vr.notificationTextService.unreadCount}</h:panelGroup>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li class="header">Vous avez #{vr.notificationTextService.unreadCount} notifications</li>
                                        <li>
                                            <!-- inner menu: contains the actual data -->
                                            <ul class="menu">
                                                <ui:repeat
                                                    value="#{vr.notificationTextService.getContentTextListHead(null,6)}"
                                                    var="i">
                                                    <li>
                                                        <a href="#">
                                                            <i class="fa #{vr.nvl(i.linkClassStyle,vr.rand('fa-users text-aqua','fa-warning text-yellow','fa-users text-red','fa-shopping-cart text-green','fa-user text-red'))}"></i> #{i.title}
                                                        </a>
                                                    </li>
                                                </ui:repeat>
                                            </ul>
                                        </li>
                                        <!--<li class="footer"><a href="#"><strong>Tout afficher</strong></a></li>-->
                                    </ul>
                                </li>
                                <!-- Tasks: style can be found in dropdown.less -->
                                #{vr.taskTextService.loadContentTexts(null)}
                                <li class="dropdown tasks-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-flag-o"></i>
                                        <h:panelGroup styleClass="label label-danger"
                                                      rendered="#{vr.taskTextService.activeCount gt 0}">#{vr.taskTextService.activeCount}</h:panelGroup>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li class="header">Vous avez #{vr.taskTextService.activeCount} taches</li>
                                        <li>
                                            <!-- inner menu: contains the actual data -->
                                            <ul class="menu">
                                                <ui:repeat value="#{vr.taskTextService.getContentTextListHead(null,6)}"
                                                           var="i">
                                                    <li><!-- Task item -->
                                                        <a href="#">
                                                            <h3>
                                                                #{i.title}
                                                                <small class="pull-right">#{i.progress}%</small>
                                                            </h3>
                                                            <div class="progress xs">
                                                                <div class="progress-bar #{vr.hashToArr(i.title,'progress-bar-aqua','progress-bar-green','progress-bar-red','progress-bar-yellow')}"
                                                                     style="width: #{i.progress}%"
                                                                     role="progressbar" aria-valuenow="20" aria-valuemin="0"
                                                                     aria-valuemax="100">
                                                                    <span class="sr-only">#{i.progress}% Complété</span>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </li>
                                                </ui:repeat>
                                            </ul>
                                        </li>
                                        <li class="footer">
                                            <a href="#"><strong>Tout afficher</strong></a>
                                        </li>
                                    </ul>
                                </li>

                                <li class="sessions-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-users"></i>
                                        <h:panelGroup styleClass="label label-warning"
                                                      >#{vr.activeSessions.size()}</h:panelGroup>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li class="header">#{vr.activeSessions.size()} utilisateurs connectés</li>
                                        <li>
                                            <!-- inner menu: contains the actual data -->
                                            <ul class="menu">
                                                <ui:repeat
                                                    value="#{vr.getActiveSessionsGroupedByType().entrySet().toArray()}"
                                                    var="e">

                                                    <li>
                                                        <h:outputLink value="#{vr.allowed('Custom.Admin.ActiveSessions') ? vr.strcat(vr.context,'/p/activeSessions') : '#'}">
                                                            <h4>
                                                                #{e.key}
                                                                <small><i
                                                                        class="fa fa-group"></i> #{e.value.size()}
                                                                </small>
                                                            </h4>
                                                            <p></p>
                                                        </h:outputLink>
                                                    </li>
                                                </ui:repeat>
                                            </ul>
                                        </li>
                                        <li>
                                            <h:outputLink class="footer" value="#{vr.context}/p/activeSessions"
                                                          style="text-align: center;"
                                                          rendered="#{vr.allowed('Custom.Admin.ActiveSessions')}">
                                                <strong>Tout afficher</strong>
                                            </h:outputLink>

                                        </li>
                                    </ul>
                                </li>
                                <li class="extra-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-life-saver"></i>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <!--<li class="header">outils de la page en cours...</li>-->
                                        <li>
                                            <!-- inner menu: contains the actual data -->
                                            <ul class="menu">
                                                <li>
                                                    <h:outputLink value="#{vr.currentRequestURI}" target="_blank">
                                                        <h4>
                                                            Dupliquer Page
                                                        </h4>
                                                        <p></p>
                                                    </h:outputLink>
                                                </li>
                                                <li>
                                                    <h:outputLink value="#{vr.currentPrintableRequestURI}" target="_blank">
                                                        <h4>
                                                            Imprimer Page
                                                        </h4>
                                                        <p></p>
                                                    </h:outputLink>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <!-- User Account: style can be found in dropdown.less -->
                                <li class="dropdown user user-menu">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <img src="#{vr.url(corePlugin.currentUserIcon)}"
                                             class="user-image" alt="User Image"/>
                                        <span class="hidden-xs">#{corePlugin.currentUser.fullName}</span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <!-- User image -->
                                        <li class="user-header">
                                            <img src="#{vr.url(corePlugin.currentUserIcon)}"
                                                 class="img-circle" alt="User Image"/>

                                            <p>
                                                #{corePlugin.currentUser.fullName} - #{corePlugin.currentUser.positionTitle1}
                                                <small>Member since #{vr.date(corePlugin.currentUser.creationDate,"MMM yyyy")}</small>
                                            </p>
                                        </li>
                                        <!-- Menu Body -->
                                        <li class="user-body">
                                            <div class="row">
                                                <div class="col-xs-4 text-center">
                                                    <a href="#">Groupes</a>
                                                </div>
                                                <div class="col-xs-4 text-center">
                                                    <a href="#">Activités</a>
                                                </div>
                                                <div class="col-xs-4 text-center">
                                                    <a href="#">Cercles</a>
                                                </div>
                                            </div>
                                            <!-- /.row -->
                                        </li>
                                        <!-- Menu Footer-->
                                        <li class="user-footer">
                                            <div class="pull-left">
                                                <p:commandLink ajax="false" action="#{vr.gotoPage('myProfile','')}"
                                                               styleClass="btn btn-default btn-flat" value="Profil">
                                                </p:commandLink>
                                            </div>
                                            <div class="pull-right">
                                                <p:commandLink ajax="false" action="#{vr.logout}"
                                                               styleClass="btn btn-default btn-flat" value="Deconnexion">
                                                </p:commandLink>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <!-- Control Sidebar Toggle Button -->
                                <li>
                                    <ui:fragment render="#{true}">
                                        <a href="#" data-toggle="control-sidebar"><i
                                                class="fa fa-gears"></i></a>
                                    </ui:fragment>
                                </li>
                            </ul>
                        </div>

                    </nav>
                    <h:form>
                        <p:poll interval="#{vr.pollInterval}" listener="#{vr.onPoll}" update=":mainHeaderForm"/>
                    </h:form>
                </header>
            </h:form>
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar">
                <!-- sidebar: style can be found in sidebar.less -->
                <section class="sidebar">
                    <!-- Sidebar user panel -->
                    <div class="user-panel">
                        <div class="pull-left image">
                            <img src="#{vr.url(corePlugin.currentUserIcon)}" class="img-circle" alt="User Image"/>
                        </div>
                        <div class="pull-left info">
                            <p>#{corePlugin.currentUser.fullName}</p>
                            <a href="#"><i class="fa fa-circle text-success"></i> En Ligne</a>
                        </div>
                    </div>
                    <!-- search form -->
                    <h:form id="searchMenuForm" styleClass="sidebar-form">
                        <p:remoteCommand name="rc" update=":searchMenuForm" actionListener="#{vr.buildMenu()}"/>
                        <div class="input-group">
                            <h:inputText id="searchTextInput" a:name="searchTextInput" styleClass="form-control" value="#{vr.menuSearchText}" a:placeholder="Chercher..."/>
                            <span class="input-group-btn">
                                <button type="submit" onclick="rc({searchText: document.getElementById('searchTextInput').value})" name="search" id="search-btn" class="btn btn-flat">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </h:form>
                    <!-- /.search form -->
                    <!-- sidebar menu: : style can be found in sidebar.less -->
                    <h:form id="sidebarMenuForm">
                        <ul class="sidebar-menu">
                            <ui:fragment rendered="#{!vr.isEmpty(corePlugin.currentUser.department.name)}">
                                <li class="header">Depatement #{corePlugin.currentUser.department.name}</li>
                            </ui:fragment>
                            #{vr.buildMenu()}
                            <li class="treeview">
                                <h:outputLink value="#{vr.context}/p/welcome">
                                    <i class="fa fa-desktop"></i> Mon Mur
                                </h:outputLink>
                            </li>
                            <ui:repeat value="#{vr.menu.resolveGroups()}" var="p0">
                                <li class="treeview #{p0.selected ?'active':''}">
                                    <a href="#">
                                        <i class="fa  #{vr.nvl(p0.icon,'fa-folder')}"></i> <span>#{p0.name}</span>
                                        <span class="pull-right-container">
                                            <ui:repeat value="#{p0.labels}" var="l">
                                                <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                            </ui:repeat>
                                            <i class="fa fa-angle-left pull-right"></i>
                                        </span>
                                    </a>

                                    <ul class="treeview-menu">
                                        <ui:repeat value="#{p0.resolveGroups()}" var="p1">
                                            <li class="#{p1.selected ?'active':''}"><a href="#"><i class="fa #{vr.nvl(p1.icon,'fa-folder')}"></i> #{p1.name}
                                                    <h:panelGroup styleClass="pull-right-container">
                                                        <ui:repeat value="#{p1.labels}" var="l">
                                                            <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                        </ui:repeat>
                                                        <i class="fa fa-angle-left pull-right"></i>
                                                    </h:panelGroup>
                                                </a>
                                                <ul class="treeview-menu">
                                                    <ui:repeat value="#{p1.resolveGroups()}" var="p2">
                                                        <li class="#{p2.selected ?'active':''}"><a href="#"><i
                                                                    class="fa #{vr.nvl(p2.icon,'fa-folder')}"></i> #{p2.name}
                                                                <h:panelGroup styleClass="pull-right-container">
                                                                    <ui:repeat value="#{p2.labels}" var="l">
                                                                        <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                                    </ui:repeat>
                                                                    <i class="fa fa-angle-left pull-right"></i>
                                                                </h:panelGroup>
                                                            </a>
                                                            <ul class="treeview-menu">
                                                                <ui:repeat value="#{p2.resolveGroups()}" var="p3">
                                                                    <li class="#{p3.selected ?'active':''}"><a href="#"><i
                                                                                class="fa #{vr.nvl(p3.icon,'fa-folder')}"></i> #{p3.name}
                                                                            <h:panelGroup styleClass="pull-right-container">
                                                                                <ui:repeat value="#{p3.labels}" var="l">
                                                                                    <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                                                </ui:repeat>
                                                                                <i class="fa fa-angle-left pull-right"></i>
                                                                            </h:panelGroup>
                                                                        </a>
                                                                        <ul class="treeview-menu">
                                                                        </ul>
                                                                    </li>
                                                                </ui:repeat>
                                                                <ui:repeat value="#{p2.resolveLeaves()}" var="p3">
                                                                    <li class="#{p3.selected ?'active':''}">
                                                                        <h:outputLink value="#{vr.getPrettyURL(p3)}"><i
                                                                                class="fa #{vr.nvl(p3.icon,vr.mapValue(p3.type,'fa-cube','editor','fa-circle-o'))}"></i> #{p3.name}
                                                                            <h:panelGroup styleClass="pull-right-container">
                                                                                <ui:repeat value="#{p3.labels}" var="l">
                                                                                    <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                                                </ui:repeat>
                                                                            </h:panelGroup>
                                                                        </h:outputLink>
                                                                    </li>
                                                                </ui:repeat>
                                                            </ul>
                                                        </li>
                                                    </ui:repeat>
                                                    <ui:repeat value="#{p1.resolveLeaves()}" var="p2">
                                                        <li class="#{p2.selected ?'active':''}">
                                                            <h:outputLink value="#{vr.getPrettyURL(p2)}"><i
                                                                    class="fa #{vr.nvl(p2.icon,vr.mapValue(p2.type,'fa-cube','editor','fa-circle-o'))}"></i> #{p2.name}
                                                                <h:panelGroup styleClass="pull-right-container">
                                                                    <ui:repeat value="#{p2.labels}" var="l">
                                                                        <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                                    </ui:repeat>
                                                                </h:panelGroup>
                                                            </h:outputLink>
                                                        </li>
                                                    </ui:repeat>
                                                </ul>
                                            </li>
                                        </ui:repeat>
                                        <ui:repeat value="#{p0.resolveLeaves()}" var="p1">
                                            <li class="#{p1.selected ?'active':''}">
                                                <h:outputLink value="#{vr.getPrettyURL(p1)}">
                                                    <i class="fa #{vr.nvl(p1.icon,vr.mapValue(p1.type,'fa-cube','editor','fa-circle-o'))}"></i> #{p1.name}
                                                    <h:panelGroup styleClass="pull-right-container">
                                                        <ui:repeat value="#{p1.labels}" var="l">
                                                            <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                                        </ui:repeat>
                                                    </h:panelGroup>
                                                </h:outputLink>
                                            </li>
                                        </ui:repeat>
                                    </ul>
                                </li>
                            </ui:repeat>
                            <ui:repeat value="#{vr.menu.resolveLeaves()}" var="p0">
                                <li class="#{p0.selected ?'active':''}">
                                    <h:outputLink value="#{vr.getPrettyURL(p0)}"><i
                                            class="fa vr.nvl(p0.icon,vr.mapValue(p0.type,'fa-cube','editor','fa-circle-o'))"></i> #{p0.name}
                                        <h:panelGroup styleClass="pull-right-container">
                                            <ui:repeat value="#{p0.labels}" var="l">
                                                <small class="label pull-right #{vr.mapValue(l.type,'bg-black','success','bg-green','info','bg-light-blue','warn','bg-orange','severe','bg-red')}">#{l.name}</small>
                                            </ui:repeat>
                                        </h:panelGroup>
                                    </h:outputLink>
                                </li>
                            </ui:repeat>
                        </ul>
                    </h:form>
                </section>
                <!-- /.sidebar -->
            </aside>

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <h:form id="pageTitleForm">
                    <section class="content-header">
                        <h1>
                            #{vr.titleCrumb.title}
                            <small>#{vr.titleCrumb.subTitle}</small>
                        </h1>

                        <ui:insert name="header">
                            <p:messages showSummary="true" showDetail="true"/>
                            <ol class="breadcrumb">
                                <ui:repeat value="#{vr.breadcrumb}" var="m">
                                    <li class="#{m.active ? 'active':''}">
                                        <i class="fa #{m.css}}"></i>
                                        <p:commandLink rendered="#{(not m.active) and (m.ctrl ne '')}"
                                                       action="#{vr.gotoPage(m.ctrl,'')}" value="#{m.title}"/>
                                        <h:outputText rendered="#{(m.active) or (m.ctrl eq '')}" value="#{m.title}"/>
                                    </li>
                                </ui:repeat>
                                <li >
                                    <p:commandLink action="#{vr.goBack}" style="margin-left: 30px">
                                        <i class="fa fa-chevron-circle-left"></i><span style="margin-left: 5px">Retour</span>
                                    </p:commandLink>
                                </li>
                            </ol>
                        </ui:insert>


                    </section>
                </h:form>

                <!-- Main content -->
                <section class="content">
                    <ui:insert name="content">
                    </ui:insert>
                </section>
                <!-- /.content -->
            </div>
            <!-- /.content-wrapper -->

            <footer class="main-footer" style="font-size: small;">
                <div class="pull-right hidden-xs">
                    <p:clock styleclass="vr-clock" pattern="HH:mm:ss | dd MMM yyyy"/>
                    <b>Version</b> #{corePlugin.appVersion.version}
                </div>
                <strong>Copyright (c) #{vr.getAppProperty('System.App.Copyrights.Date')} <a
                        href="#{vr.getAppProperty('System.App.Copyrights.Author.URL')}">#{vr.getAppProperty('System.App.Copyrights.Author.Name')}</a>, #{vr.getAppProperty('System.App.Copyrights.Author.Affiliation')}.</strong> All rights reserved, based on vr open-source project. <a
                    href="https://github.com/thevpc/vr/issues" target="_blank">submit issue</a>, <a
                    href="https://github.com/thevpc/vr" target="_blank">get sources</a>

            </footer>

            <!-- Control Sidebar -->
            <aside class="control-sidebar control-sidebar-dark">
                <!-- Create the tabs -->
                <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                    <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
                    <!--<li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>-->
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">
                    <!-- Home tab content -->
                    <div class="tab-pane" id="control-sidebar-home-tab">

                    </div>
                    <!-- /.tab-pane -->

                </div>
            </aside>
            <!-- /.control-sidebar -->
            <!-- Add the sidebar's background. This div must be placed
                 immediately after the control sidebar -->
            <div class="control-sidebar-bg"></div>

        </div>
        <!-- ./wrapper -->

        <!-- jQuery 2.2.3 -->
        <!-- Bootstrap 3.3.6 -->
        <!--<script src="# {vr.privateThemeContext}/wplugins/adminlte/bootstrap/js/bootstrap.min.js"></script>-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!-- FastClick -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/fastclick/fastclick.js"></script>
        <!-- AdminLTE App -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/dist/js/app.min.js"></script>
        <!-- Sparkline -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/sparkline/jquery.sparkline.min.js"></script>
        <!-- jvectormap -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
        <!-- Bootstrap WYSIHTML5 -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
        <!-- SlimScroll 1.3.0 -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <!-- ChartJS 1.0.1 -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/plugins/chartjs/Chart.min.js"></script>
        <!-- AdminLTE for demo purposes -->
        <script src="#{vr.privateThemeContext}/wplugins/adminlte/dist/js/demo.js"></script>

        <script>
                                    $(document).ready(function () {
                                        $(".sparkline").each(function () {
                                            var $this = $(this);
                                            $this.sparkline('html', $this.data());
                                        });
                                    });
        </script>

    </h:body>
</html>
